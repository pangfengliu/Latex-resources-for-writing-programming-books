\documentclass[11pt]{report}
\setlength{\oddsidemargin}{0.58in}
\setlength{\evensidemargin}{0.58in}

\usepackage{CJK}
\usepackage{programmingbook}

\begin{document}

\begin{CJK}{UTF8}{bsmi}
  
\title{Latex Resources for Writing Programming Books}
\author{劉邦鋒 \\ 臺灣大學資訊工程學系}

\begin{titlepage}
\maketitle
\end{titlepage}

\chapter{Examples}

{\tt programmingbook} is a package that I use to write programming books.
It requires listing package and you can use it to write books in Chinese (with {\tt CJK}).
The latex source will look like this.

\begin{verbatim}
\documentclass[11pt,twoside]{book}

\usepackage{CJK}
\usepackage{programmingbook}

\begin{document}
\begin{CJK}{UTF8}{bsmi}
% your book here.
\end{CJK}
\end{document}
\end{verbatim}

\section{Program Listing}

\subsection{List the entire program}

Use {\tt programlisting} to list a program.
The first argument is the file name, and the second argument is the caption.

\begin{verbatim}
\programlisting{scan-print.c}{從鍵盤讀入再顯示}
\end{verbatim}

The previous code will produce the following.

\programlisting{scan-print.c}{從鍵盤讀入再顯示}

Note that you can refer to a program listing by {\tt ex:filename}.
For example you can refer to the previous example by \verb+範例~\ref{ex:scanf-print.c}+, which will produce 範例~\ref{ex:scan-print.c}.

\subsection{List a part of a program}

Use {\tt programlistingrange} to list a part of a program.  The first
argument is the file name, and the second argument is the caption.
The third and the fourth arguments specify the range (within comments)
to print.
For example you can print the main program of 範例~\ref{ex:scan-print.c} using the following.


\begin{verbatim}
\programlistingrange{scan-print.c}{從鍵盤讀入再顯示}{main}{mainend}
\end{verbatim}

The previous code will produce the following.

\programlistingrange{scan-print.c}{從鍵盤讀入再顯示}{main}{mainend}


You can refer to a program segment listing by {\tt ex:filename-start}.
The {\tt start} is the starting point (the thid argument) of your
{\tt programlistingrange} command.  For example you can refer to the
previous example by \verb+程式片段~\ref{ex:scan-print.c-main}+, which
will produce 程式片段~\ref{ex:scan-print.c-main}.

\section{Input/Output Listing}

Use {\tt programinput} and {\tt programoutput} to list program input
and output.
Note that the package uses {\tt file.in} and {\tt file.out} as the default file names to print if given the name {\tt file}.

\begin{verbatim}
\programinput{scan-print}
\programoutput{scan-print}
\end{verbatim}

The previous code produces the following.

\programinput{scan-print}
\programoutput{scan-print}


\section{Headers and Prototype}

\subsection{Fucntion Prototype}

Use {\tt prototype} to list the prototype of a function.  The only
argument is the file name.

\begin{verbatim}
\prototype{strlen.h}
\end{verbatim}

The previous code will produce the following.

\prototype{strlen.h}

You can refer to a prototype by {\tt prototype:filename}.
For example you can refer to the previous prototype by \verb+函式原型~\ref{prototype:strlen.h}+, which will produce 函式原型~\ref{prototype:strlen.h}.

\subsection{Header Files}

Use {\tt header} to list a header file.
The first argument is the file name, and the second argument is the caption.

\begin{verbatim}
\header{complex.h}{複數定義標頭檔}
\end{verbatim}

The previous code will produce the following.

\header{complex.h}{複數定義標頭檔}

Note that you can refer to a program listing by {\tt ex:filename}.
For example you can refer to the previous example by \verb+標頭檔~\ref{header:complex.h}+, which will produce 標頭檔~\ref{header:complex.h}.

\section{Phrase}

Use {\tt phrase} to list a phrase.  The first argument is the name of
the file storing the phrase, and the second argument is the caption.
This package use {\tt .p} suffix for file with phrases.

Note that I use phrase to explain key programming concepts.  A phrase
is a code segment that is often used in a particular situation, much
like a phrase in English.

\begin{verbatim}
\phrase{for}{{\tt for} 迴圈}
\end{verbatim}

The previous code needs a file {\tt for.p} and will produce the
following.

\phrase{for}{{\tt for} 迴圈}

Note that you can refer to a phrase listing by {\tt phr:filename}.
For example you can refer to the previous phrase by \verb+片語~\ref{phr:for}+, which will produce 片語~\ref{phr:for}.


\end{CJK}
\end{document}
