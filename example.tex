\documentclass[11pt,twoside]{book}
\setlength{\oddsidemargin}{0.58in}
\setlength{\evensidemargin}{0.58in}

\usepackage{CJK}
\usepackage{programmingbook}

\begin{document}

\begin{CJK}{UTF8}{bsmi}
  
\title{Latex Resources for Writing Programming Books}
\author{劉邦鋒 \\ 臺灣大學資訊工程學系}

\begin{titlepage}
\maketitle
\end{titlepage}

\chapter{Examples}

{\tt programmingbook} is a package that I use to write programming books.
It requires listing package and you can use it to write books in Chinese (with {\tt CJK}).
The latex source will look like this.

\begin{verbatim}
\documentclass[11pt,twoside]{book}

\usepackage{CJK}
\usepackage{programmingbook}

\begin{document}
\begin{CJK}{UTF8}{bsmi}
% your book here.
\end{CJK}
\end{document}
\end{verbatim}

\section{Program Listing}

\subsection{List the entire program}

Use {\tt programlisting} to list a program.
The first argument is the file name, and the second argument is the caption.

\begin{verbatim}
\programlisting{scan-print.c}{從鍵盤讀入再顯示}
\end{verbatim}

The previous code will produce the following.

\programlisting{scan-print.c}{從鍵盤讀入再顯示}

Note that you can refer to a program listing by {\tt ex:filename}.
For example we can refer to the previous example by \verb+範例~\ref{ex:scanf-print.c}+, which will produce 範例~\ref{ex:scan-print.c}.

\subsection{List a part of a program}

Use {\tt programlistingrange} to list a part of a program.  The first
argument is the file name, and the second argument is the caption.
The third and the fourth arguments specify the range (within comments)
to print.
For example we can print the main program of 範例~\ref{ex:scan-print.c} using the following.


\begin{verbatim}
\programlistingrange{scan-print.c}{從鍵盤讀入再顯示}{main}{mainend}
\end{verbatim}

The previous code will produce the following.

\programlistingrange{scan-print.c}{從鍵盤讀入再顯示}{main}{mainend}


You can refer to a program segment listing by {\tt ex:filename-start}.
The {\tt start} is the starting point (the thid argument) of your
{\tt programlistingrange} command.  For example we can refer to the
previous example by \verb+程式片段~\ref{ex:scanf-print.c-main}+, which
will produce 程式片段~\ref{ex:scan-print.c-main}.

\section{Input/Output Listing}

Use {\tt programinput} and {\tt programoutput} to list program input
and output.
Note that we use {\tt file.in} and {\tt file.out} as the default file names to print if given the name {\tt file}.

\begin{verbatim}
\programinput{scan-print}
\programoutput{scan-print}
\end{verbatim}

The previous code will produce the following.

\programinput{scan-print}
\programoutput{scan-print}

\end{CJK}
\end{document}
